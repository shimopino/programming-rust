# ライブラリと実行ファイル

## ライブラリ

`Cargo.toml` を以下のように作成しており、パッケージの名前に `fern_sim` を設定している。

```toml
[package]
name = "fern_sim"
version = "0.1.0"
edition = "2021"
```

これで `src/lib.rs` というコードが存在すれば、コンパイル時に Cargo が自動的にソースディレクトリからファイルを検出してライブラリをビルドすることができる

この `src/lib.rs` が `fern_sim` ライブラリのルートモジュールを構成する

## 実行ファイル

ライブラリには `main` 関数が存在しないため、コマンドラインから起動することができないが `src/bin` ディレクトリを用意すれば、 `--bin <name>` を実行することで関数を起動することができる

例えば `src/bin/efern.rs` というファイルに `main` 関数を記述すれば、以下のコマンドで実行することができる

```bash
cargo run --bin efern
```

この実行ファイルからライブラリを参照したい場合は、以下のようにライブラリ名から読み込む必要がある

```rust
use fern_sim::{run_simulation, Ferm};
```
